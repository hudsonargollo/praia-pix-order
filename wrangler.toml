name = "coco-loko-acaiteria"
compatibility_date = "2024-11-06"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "dist"

[site]
bucket = "dist"
entry-point = "functions"

[functions]
# The functions directory is already set to "functions" by default in Cloudflare Pages
# We rely on the file-based routing of Cloudflare Pages Functions for the new routes:
# /api/admin/create-waiter -> functions/api/admin/create-waiter.js
# /api/admin/delete-waiter/[waiterId] -> functions/api/admin/delete-waiter.js
# /api/admin/list-waiters -> functions/api/admin/list-waiters.js
# No explicit configuration needed here, just ensuring the structure is correct.

# Environment variables (available at build time and runtime)
[vars]
# Frontend environment variables
VITE_SUPABASE_URL = "https://sntxekdwdllwkszclpiq.supabase.co"
VITE_SUPABASE_PUBLISHABLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNudHhla2R3ZGxsd2tzemNscGlxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDQ1ODksImV4cCI6MjA3Nzc4MDU4OX0.aPQeASkYkf7jl3Sl-1GFHH7B8VU-pOtn5sYJKMs9u8I"
VITE_MERCADOPAGO_PUBLIC_KEY = "APP_USR-ef0ab051-6520-4ea1-a3e3-5e53825685fe"
VITE_MERCADOPAGO_ACCESS_TOKEN = "APP_USR-4813437808298526-110522-fa108581dfa5cb10a87458875e5c8136-1769074499"

# Evolution API (WhatsApp Integration)
VITE_EVOLUTION_API_URL = "http://wppapi.clubemkt.digital"
VITE_EVOLUTION_API_KEY = "DD451E404240-4C45-AF35-BFCA6A976927"
VITE_EVOLUTION_INSTANCE_NAME = "cocooo"

# Server-side environment variables (for Cloudflare Functions)
MERCADOPAGO_ACCESS_TOKEN = "APP_USR-4813437808298526-110522-fa108581dfa5cb10a87458875e5c8136-1769074499"
WHATSAPP_SESSION_ID = "coco-loko-main"

# IMPORTANT: Set these sensitive variables in Cloudflare Dashboard:
# - SUPABASE_URL (same as VITE_SUPABASE_URL)
# - SUPABASE_SERVICE_ROLE_KEY (from Supabase project settings)
# - WHATSAPP_ENCRYPTION_KEY (generate with: openssl rand -hex 32)